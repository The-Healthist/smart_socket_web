import{w as $,s as b}from"./base-CHC5KoCc.js";import{_ as C}from"./index-B68_FZo7.js";import{d as v,c as u,a as y,n as l,b as a,e as o,r as M,w as i,u as E,o as _,f as V,s as j,g as z,h as D,i as I,j as g,k as R,K as B,_ as A}from"./index-D0pO9Tvl.js";import{u as F,a as H,b as K,c as L}from"./textStore-CRw0B2M-.js";const P=$(b),N={class:"bg-base/90 rounded-bar text-mutedC px-5 py-[5px] fixed bottom-2 gap-3 flex justify-between items-center shadow"},W=v({__name:"index",setup(e){const r=F();r.themes;const c=u(()=>r.getTheme),s=H(),t=u(()=>s.getRounded),d=K(),m=u(()=>d.getFontSize),p=L(),S=u(()=>p.getText),T=E(),x=k=>T.path===k;return(k,n)=>{const f=C,h=M("router-link");return _(),y("div",{class:l(`font-${S.value} theme-color-${c.value} theme-rounded-${t.value} theme-fontsize-${m.value} `)},[a("div",N,[o(h,{to:"/home",class:l(["hover:text-primary focus:text-primary w-[59px]  flex-col justify-center items-center gap-1 flex",x("/home")?"text-primary":"text-muted"])},{default:i(()=>[o(f,{icon:"ion:home-outline",class:"text-[24px]"}),n[0]||(n[0]=a("div",null,"首頁",-1))]),_:1},8,["class"]),o(h,{to:"/order",class:l(["hover:text-primary focus:text-primary w-[59px]  flex-col justify-center items-center gap-1 flex",x("/order")?"text-primary":"text-muted"])},{default:i(()=>[o(f,{icon:"cil:list",class:"text-[24px]"}),n[1]||(n[1]=a("div",null,"訂單",-1))]),_:1},8,["class"]),o(h,{to:"/auth",class:l(["hover:text-primary focus:text-primary w-[59px]  flex-col justify-center items-center gap-1 flex",x("/auth")?"text-primary":"text-muted"])},{default:i(()=>[o(f,{icon:"ion:person-outline",class:"text-[24px]"}),n[2]||(n[2]=a("div",null,"我的",-1))]),_:1},8,["class"]),o(h,{to:"/setting",class:l(["hover:text-primary focus:text-primary w-[59px]  flex-col justify-center items-center gap-1 flex",x("/setting")?"text-primary":"text-muted"])},{default:i(()=>[o(f,{icon:"uil:setting",class:"text-[24px]"}),n[3]||(n[3]=a("div",null,"设置",-1))]),_:1},8,["class"])])],2)}}}),w="__dark_mode__",X=()=>{const e=window.localStorage.getItem(w);return e?e==="true":window.matchMedia("(prefers-color-scheme: dark)").matches},Y=V({id:"dark-mode",state:()=>({darkMode:X()}),actions:{toggleDarkMode(e){const r="startViewTransition"in document&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches,c=()=>{this.darkMode=!this.darkMode,this.darkMode?(document.documentElement.classList.add("dark"),window.localStorage.setItem(w,"true")):(document.documentElement.classList.remove("dark"),window.localStorage.setItem(w,"false"))};if(!r){c();return}let s,t;e instanceof TouchEvent?(s=e.touches[0].clientX,t=e.touches[0].clientY):e instanceof MouseEvent?(s=e.clientX,t=e.clientY):(s=window.innerWidth,t=0);const d=Math.hypot(Math.max(s,window.innerWidth-s),Math.max(t,window.innerHeight-t));document.startViewTransition(async()=>{c(),await z()}).ready.then(()=>{const p=[`circle(0px at ${s}px ${t}px)`,`circle(${d}px at ${s}px ${t}px)`];document.documentElement.animate({clipPath:this.darkMode?[...p].reverse():p},{duration:400,easing:"ease-out",pseudoElement:this.darkMode?"::view-transition-old(root)":"::view-transition-new(root)"})})}}});function q(){return Y(j)}function G(){return q().darkMode}const J={class:"app-wrapper flex flex-col h-full w-full"},O={class:"flex ml-[10%]"},Q=v({__name:"index",setup(e){const r=u(()=>D().cachedViewList);return(c,s)=>{const t=M("router-view"),d=P;return _(),y("div",J,[o(d,{theme:I(G)()?"dark":"light"},{default:i(()=>[o(t,null,{default:i(({Component:m})=>[(_(),g(B,{include:r.value},[(_(),g(R(m)))],1032,["include"]))]),_:1}),a("div",O,[o(W)])]),_:1},8,["theme"])])}}}),oe=A(Q,[["__scopeId","data-v-f83b4bd2"]]);export{oe as default};
